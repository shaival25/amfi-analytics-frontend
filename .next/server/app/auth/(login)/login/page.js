(()=>{var e={};e.id=824,e.ids=[824],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},7564:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=a(482),r=a(9108),i=a(2563),l=a.n(i),o=a(8300),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);a.d(t,n);let d=["",{children:["auth",{children:["(login)",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,7500)),"D:\\Cactus-Creatives\\amfi-bny\\analytics-frontend\\DashTail-starter-v1.3.0\\dash-tail-starter-kit\\app\\auth\\(login)\\login\\page.jsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,4131)),"D:\\Cactus-Creatives\\amfi-bny\\analytics-frontend\\DashTail-starter-v1.3.0\\dash-tail-starter-kit\\app\\auth\\layout.jsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,2666)),"D:\\Cactus-Creatives\\amfi-bny\\analytics-frontend\\DashTail-starter-v1.3.0\\dash-tail-starter-kit\\app\\layout.jsx"],error:[()=>Promise.resolve().then(a.bind(a,826)),"D:\\Cactus-Creatives\\amfi-bny\\analytics-frontend\\DashTail-starter-v1.3.0\\dash-tail-starter-kit\\app\\error.js"],"not-found":[()=>Promise.resolve().then(a.bind(a,6178)),"D:\\Cactus-Creatives\\amfi-bny\\analytics-frontend\\DashTail-starter-v1.3.0\\dash-tail-starter-kit\\app\\not-found.js"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["D:\\Cactus-Creatives\\amfi-bny\\analytics-frontend\\DashTail-starter-v1.3.0\\dash-tail-starter-kit\\app\\auth\\(login)\\login\\page.jsx"],u="/auth/(login)/login/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/auth/(login)/login/page",pathname:"/auth/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7341:(e,t,a)=>{Promise.resolve().then(a.bind(a,194))},5303:()=>{},194:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>q});var s=a(5344),r=a(3729),i=a.n(r),l=a(708),o=a(5453),n=a(9709),d=a(9704),c=a(800),u=a(4806),m=a(2739),p=a(4669),x=a(9127),f=a(6506),h=a(307),b=a(4501),g=a(7568),v=a(7665),y=a(8428),w=a(8014),j=a(9668);let N=n.z.object({email:n.z.string().email({message:"Your email is invalid."}),password:n.z.string().min(4)}),P=()=>{let e=(0,y.useRouter)(),[t,a]=i().useState(!1),[n,P]=i().useState("password"),[q,k]=i().useState(""),_=(0,g.a)("(max-width: 1530px)"),{register:C,handleSubmit:D,formState:{errors:I}}=(0,l.cI)({resolver:(0,o.F)(N),mode:"all"}),S=async t=>{try{a(!0),k("");let s=await v.Z.post("https://192.168.1.12:5002/api/users/login",t);if(200===s.status){p.ZP.success("Login Successful"),w.Z.set("authToken",s.data.token);let t=JSON.stringify(s.data.permissions);localStorage.setItem("userEmail",s.data.email),localStorage.setItem("userId",s.data.id),localStorage.setItem("userName",s.data.userName),localStorage.setItem("userRole",s.data.role),localStorage.setItem("userPermissions",t),a(!1),t.includes("analytics:read")?e.push("/dashboard"):t.includes("bnyGeneral:read")?e.push("/user-details"):t.includes("users:read")?e.push("/users"):e.push("/error-page/401")}}catch(t){if(a(!1),409===t.response.status){k("Invalid email or password. Please try again."),p.ZP.error("Invalid email or password");return}(0,j.Z)(t,e)}},z=async()=>{let t=w.Z.get("authToken");if(t)try{let a=await v.Z.get("https://192.168.1.12:5002/api/users/authenticate",{headers:{"x-auth-token":t}});200===a.status&&e.push("/dashboard")}catch(t){(0,j.Z)(t,e)}else e.push("/auth/login")};return(0,r.useEffect)(()=>{z()},[]),(0,s.jsxs)("div",{className:"w-full py-10",children:[s.jsx(f.default,{href:"/dashboard",className:"inline-block",children:s.jsx(h.gA,{className:"text-primary",width:"400px",height:"50px"})}),s.jsx("div",{className:"xl:mt-8 mt-6 xl:text-xl text-xl font-bold text-default-900"}),(0,s.jsxs)("form",{onSubmit:D(S),className:"mt-5 2xl:mt-7",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(u._,{htmlFor:"email",className:"mb-2 font-medium text-default-600",children:["Email"," "]}),s.jsx(c.I,{disabled:t,...C("email"),type:"email",id:"email",className:(0,x.cn)("",{"border-destructive":I.email}),placeholder:"Enter your email",size:_?"lg":"xl"})]}),I.email&&s.jsx("div",{className:" text-destructive mt-2",children:I.email.message}),(0,s.jsxs)("div",{className:"mt-3.5",children:[(0,s.jsxs)(u._,{htmlFor:"password",className:"mb-2 font-medium text-default-600",children:["Password"," "]}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx(c.I,{disabled:t,...C("password"),type:n,id:"password",className:"peer ",size:_?"lg":"xl",placeholder:"Enter your password"}),s.jsx("div",{role:"button",className:"absolute top-1/2 -translate-y-1/2 ltr:right-4 rtl:left-4 cursor-pointer",onClick:()=>{"text"===n?P("password"):"password"===n&&P("text")},children:"password"===n?s.jsx(b.JO,{icon:"heroicons:eye",className:"w-5 h-5 text-default-400"}):s.jsx(b.JO,{icon:"heroicons:eye-slash",className:"w-5 h-5 text-default-400"})})]})]}),I.password&&s.jsx("div",{className:" text-destructive mt-2",children:I.password.message}),s.jsx("div",{className:"mt-5 flex flex-wrap gap-2"}),q&&s.jsx("div",{className:"text-destructive mt-3 mb-3  text-center",children:q}),(0,s.jsxs)(d.z,{className:"w-full",disabled:t,size:_?"md":"lg",children:[t&&s.jsx(m.Z,{className:"mr-2 h-4 w-4 animate-spin"}),t?"Loading...":"Sign In"]})]})]})},q=()=>s.jsx("div",{className:"min-h-screen bg-background  flex items-center  overflow-hidden w-full",children:s.jsx("div",{className:"min-h-screen basis-full flex flex-wrap w-full  justify-center overflow-y-auto",children:s.jsx("div",{className:" min-h-screen basis-full md:basis-1/2 w-full px-4 py-5 flex justify-center items-center",children:s.jsx("div",{className:"lg:w-[480px] ",children:s.jsx(P,{})})})})})},800:(e,t,a)=>{"use strict";a.d(t,{I:()=>n});var s=a(5344),r=a(3729),i=a(8720),l=a(9127);let o=(0,i.j)(" w-full   bg-background  border-default-300 dark:border-700  px-3 h-9   text-sm  file:border-0 file:bg-transparent file:text-sm file:font-medium  read-only:leading-9 read-only:bg-background  disabled:cursor-not-allowed disabled:opacity-50  transition duration-300 ",{variants:{color:{default:"border-default-300 text-default-500 focus:outline-none focus:border-primary disabled:bg-default-200  placeholder:text-primary-500",primary:"border-primary text-primary focus:outline-none focus:border-primary-700 disabled:bg-primary/30 disabled:placeholder:text-primary  placeholder:text-primary",info:"border-info/50 text-info focus:outline-none focus:border-info-700 disabled:bg-info/30 disabled:placeholder:text-info  placeholder:text-info/70",warning:"border-warning/50 text-warning focus:outline-none focus:border-warning-700 disabled:bg-warning/30 disabled:placeholder:text-info  placeholder:text-warning/70",success:"border-success/50 text-success focus:outline-none focus:border-success-700 disabled:bg-success/30 disabled:placeholder:text-info  placeholder:text-success/70",destructive:"border-destructive/50 text-destructive focus:outline-none focus:border-destructive-700 disabled:bg-destructive/30 disabled:placeholder:text-destructive  placeholder:text-destructive/70"},variant:{flat:"bg-default-100 read-only:bg-default-100",underline:"border-b",bordered:"border  ",faded:"border border-default-300 bg-default-100",ghost:"border-0 focus:border","flat-underline":"bg-default-100 border-b"},shadow:{none:"",sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg",xl:"shadow-xl","2xl":"shadow-2xl"},radius:{none:"rounded-none",sm:"rounded",md:"rounded-lg",lg:"rounded-xl",xl:"rounded-[20px]"},size:{sm:"h-8 text-xs read-only:leading-8",md:"h-9 text-xs read-only:leading-9",lg:"h-10 text-sm read-only:leading-10",xl:"h-12 text-base read-only:leading-[48px]"}},compoundVariants:[{variant:"flat",color:"primary",className:"bg-primary/10 read-only:bg-primary/10"},{variant:"flat",color:"info",className:"bg-info/10 read-only:bg-info/10"},{variant:"flat",color:"warning",className:"bg-warning/10 read-only:bg-warning/10"},{variant:"flat",color:"success",className:"bg-success/10 read-only:bg-success/10"},{variant:"flat",color:"destructive",className:"bg-destructive/10 read-only:bg-destructive/10"},{variant:"faded",color:"primary",className:"bg-primary/10 border-primary/30 read-only:bg-primary/10 border-primary/30"},{variant:"faded",color:"info",className:"bg-info/10 border-info/30"},{variant:"faded",color:"warning",className:"bg-warning/10 border-warning/30"},{variant:"faded",color:"success",className:"bg-success/10 border-success/30"},{variant:"faded",color:"destructive",className:"bg-destructive/10 border-destructive/30"}],defaultVariants:{color:"default",size:"md",variant:"bordered",radius:"md"}}),n=r.forwardRef(({className:e,type:t,size:a,color:r,radius:i,variant:n,shadow:d,removeWrapper:c=!1,...u},m)=>c?s.jsx("input",{type:t,className:(0,l.cn)(o({color:r,size:a,radius:i,variant:n,shadow:d}),e),ref:m,...u}):s.jsx("div",{className:"flex-1 w-full",children:s.jsx("input",{type:t,className:(0,l.cn)(o({color:r,size:a,radius:i,variant:n,shadow:d}),e),ref:m,...u})}));n.displayName="Input"},4806:(e,t,a)=>{"use strict";a.d(t,{_:()=>d});var s=a(5344),r=a(3729),i=a(4217),l=a(8720),o=a(9127);let n=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-50   inline-block "),d=r.forwardRef(({className:e,...t},a)=>s.jsx(i.f,{ref:a,className:(0,o.cn)(n(),e),...t}));d.displayName=i.f.displayName},6506:(e,t,a)=>{"use strict";a.d(t,{default:()=>r.a});var s=a(1476),r=a.n(s)},7500:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>i,__esModule:()=>r,default:()=>l});let s=(0,a(6843).createProxy)(String.raw`D:\Cactus-Creatives\amfi-bny\analytics-frontend\DashTail-starter-v1.3.0\dash-tail-starter-kit\app\auth\(login)\login\page.jsx`),{__esModule:r,$$typeof:i}=s,l=s.default},4131:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i,metadata:()=>r});var s=a(5036);let r={title:"Authentication"},i=({children:e})=>s.jsx("div",{children:e})}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[638,643,606,617,141,290],()=>a(7564));module.exports=s})();