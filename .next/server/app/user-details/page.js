(()=>{var e={};e.id=901,e.ids=[901],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},8337:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>c});var s=a(482),r=a(9108),n=a(2563),i=a.n(n),l=a(8300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let c=["",{children:["user-details",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,3574)),"D:\\Cactus-Creatives\\amfi-bny\\analytics-frontend\\DashTail-starter-v1.3.0\\dash-tail-starter-kit\\app\\user-details\\page.jsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,5717)),"D:\\Cactus-Creatives\\amfi-bny\\analytics-frontend\\DashTail-starter-v1.3.0\\dash-tail-starter-kit\\app\\user-details\\layout.jsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,2666)),"D:\\Cactus-Creatives\\amfi-bny\\analytics-frontend\\DashTail-starter-v1.3.0\\dash-tail-starter-kit\\app\\layout.jsx"],error:[()=>Promise.resolve().then(a.bind(a,826)),"D:\\Cactus-Creatives\\amfi-bny\\analytics-frontend\\DashTail-starter-v1.3.0\\dash-tail-starter-kit\\app\\error.js"],"not-found":[()=>Promise.resolve().then(a.bind(a,6178)),"D:\\Cactus-Creatives\\amfi-bny\\analytics-frontend\\DashTail-starter-v1.3.0\\dash-tail-starter-kit\\app\\not-found.js"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["D:\\Cactus-Creatives\\amfi-bny\\analytics-frontend\\DashTail-starter-v1.3.0\\dash-tail-starter-kit\\app\\user-details\\page.jsx"],u="/user-details/page",x={require:a,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/user-details/page",pathname:"/user-details",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4804:(e,t,a)=>{Promise.resolve().then(a.bind(a,9352))},9352:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>U});var s=a(5344),r=a(3729),n=a(9704),i=a(78),l=a(1532),o=a(7751);let c=(0,a(9224).Z)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);var d=a(9127);let u=(0,a(8720).j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-0   disabled:opacity-50  disabled:cursor-not-allowed ",{variants:{color:{primary:"bg-primary text-primary-foreground hover:bg-primary",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",success:"bg-success text-success-foreground hover:bg-success/90",info:"bg-info text-info-foreground hover:bg-info/90",warning:"bg-warning text-warning-foreground hover:bg-warning/90",secondary:"bg-secondary text-foreground-foreground hover:bg-secondary/90",dark:"bg-accent-foreground text-accent hover:bg-accent-foreground/90"},variant:{outline:"border border-current bg-background  hover:text-card",soft:"text-current bg-opacity-10  hover:text-primary-foreground",ghost:"bg-transparent text-current hover:text-primary-foreground"},size:{default:"h-10 px-4 py-[10px]",sm:"h-8 px-3",lg:"h-11 px-[18px] py-[10px] text-base",xl:"h-12 px-6 py-3 text-base",md:"h-9 px-4 py-2",xs:"h-7 px-[14px] py-[6px]",icon:"h-10 w-10"},radius:{default:"rounded-md",xs:"rounded-sm",sm:"rounded",lg:"rounded-lg",full:"rounded-full"}},compoundcolors:[{variant:"outline",color:"destructive",className:"text-destructive"},{variant:"outline",color:"success",className:"text-success"},{variant:"outline",color:"info",className:"text-info"},{variant:"outline",color:"warning",className:"text-warning"},{variant:"outline",color:"dark",className:"text-accent-foreground"},{variant:"outline",color:"secondary",className:"text-muted-foreground hover:bg-muted-foreground border-muted-foreground"},{variant:"outline",color:"default",className:"text-primary"},{variant:"soft",color:"info",className:"text-info"},{variant:"soft",color:"warning",className:"text-warning"},{variant:"soft",color:"destructive",className:"text-destructive"},{variant:"soft",color:"success",className:"text-success"},{variant:"soft",color:"secondary",className:"text-card-foreground bg-opacity-40"},{variant:"soft",color:"default",className:"text-primary"}],defaultVariants:{color:"primary",size:"default",radius:"default"}}),x=({isDisabled:e,className:t,...a})=>s.jsx("nav",{role:"navigation","aria-label":"pagination",className:(0,d.cn)("mx-auto flex w-full justify-center",e,t),...a}),h=r.forwardRef(({className:e,...t},a)=>s.jsx("ul",{ref:a,className:(0,d.cn)("flex flex-row items-center gap-1",e),...t}));h.displayName="PaginationContent";let p=r.forwardRef(({className:e,radius:t,...a},r)=>s.jsx("li",{ref:r,className:(0,d.cn)("",e,t),...a}));p.displayName="PaginationItem";let m=({className:e,isDisabled:t,isActive:a,color:r,variant:n,size:i="icon",...l})=>s.jsx("span",{"aria-current":a?"page":void 0,className:(0,d.cn)(u({color:a?r:"secondary",variant:a?n:"",size:i}),e),...l});m.displayName="PaginationLink";let f=({className:e,...t})=>(0,s.jsxs)(m,{"aria-label":"Go to previous page",size:"default",className:(0,d.cn)("gap-1 ltr:pl-2.5 rtl:pr-2.5",e),...t,children:[s.jsx(l.Z,{className:"h-4 w-4 rtl:rotate-180"}),s.jsx("span",{children:"Previous"})]});f.displayName="PaginationPrevious";let g=({className:e,...t})=>(0,s.jsxs)(m,{"aria-label":"Go to next page",size:"default",className:(0,d.cn)("gap-1 pr-2.5",e),...t,children:[s.jsx("span",{children:"Next"}),s.jsx(o.Z,{className:"h-4 w-4 rtl:rotate-180"})]}),j=({className:e,...t})=>(0,s.jsxs)("span",{"aria-hidden":!0,className:(0,d.cn)("flex h-9 w-9 items-center justify-center",e),...t,children:[s.jsx(c,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"More pages"})]});var v=a(800),y=a(7588),b=a(8462),N=a(2256),w=a(6069),k=a(2409),C="Avatar",[P,D]=(0,b.b)(C),[q,_]=P(C),S=r.forwardRef((e,t)=>{let{__scopeAvatar:a,...n}=e,[i,l]=r.useState("idle");return(0,s.jsx)(q,{scope:a,imageLoadingStatus:i,onImageLoadingStatusChange:l,children:(0,s.jsx)(k.WV.span,{...n,ref:t})})});S.displayName=C;var T="AvatarImage",Z=r.forwardRef((e,t)=>{let{__scopeAvatar:a,src:n,onLoadingStatusChange:i=()=>{},...l}=e,o=_(T,a),c=function(e){let[t,a]=r.useState("idle");return(0,w.b)(()=>{if(!e){a("error");return}let t=!0,s=new window.Image,r=e=>()=>{t&&a(e)};return a("loading"),s.onload=r("loaded"),s.onerror=r("error"),s.src=e,()=>{t=!1}},[e]),t}(n),d=(0,N.W)(e=>{i(e),o.onImageLoadingStatusChange(e)});return(0,w.b)(()=>{"idle"!==c&&d(c)},[c,d]),"loaded"===c?(0,s.jsx)(k.WV.img,{...l,ref:t,src:n}):null});Z.displayName=T;var R="AvatarFallback",G=r.forwardRef((e,t)=>{let{__scopeAvatar:a,delayMs:n,...i}=e,l=_(R,a),[o,c]=r.useState(void 0===n);return r.useEffect(()=>{if(void 0!==n){let e=window.setTimeout(()=>c(!0),n);return()=>window.clearTimeout(e)}},[n]),o&&"loaded"!==l.imageLoadingStatus?(0,s.jsx)(k.WV.span,{...i,ref:t}):null});G.displayName=R;let A=r.forwardRef(({className:e,...t},a)=>s.jsx(S,{ref:a,className:(0,d.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));A.displayName=S.displayName,r.forwardRef(({className:e,children:t,max:a,total:n,custom:i,countClass:l,...o},c)=>{let u=r.Children.toArray(t);return(0,s.jsxs)("div",{ref:c,className:(0,d.cn)(" relative w-max-content flex -space-x-3 avatarGroup items-center",e),...o,children:[u.slice(0,a).map((e,t)=>s.jsx(r.Fragment,{children:e},t)),u.length>a&&s.jsx(s.Fragment,{children:i?s.jsx("div",{className:" inline-block",children:(0,s.jsxs)("span",{className:"ltr:ml-5 rtl:mr-5 inline-block",children:[" +",u.length-a," more"]})}):s.jsx(A,{className:(0,d.cn)("ring-1 ring-background ring-offset-[2px]  ring-offset-background ",l),children:(0,s.jsxs)(z,{className:"font-normal",children:["+",n||u.length-a]})})})]})}).displayName="AvatarGroup",r.forwardRef(({className:e,...t},a)=>s.jsx(Z,{ref:a,className:(0,d.cn)("aspect-square h-full w-full",e),...t})).displayName=Z.displayName;let z=r.forwardRef(({className:e,...t},a)=>s.jsx(G,{ref:a,className:(0,d.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted font-semibold text-sm",e),...t}));z.displayName=G.displayName;var E=a(7665),M=a(8014),F=a(9668),L=a(8428),$=a(4669),I=a(8220);let U=()=>{let[e,t]=(0,r.useState)([]),[a,l]=(0,r.useState)([]),[o,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(0),[b,N]=(0,r.useState)(1),[w,k]=(0,r.useState)(""),C=(0,L.useRouter)(),P=e=>{let t=[...a];a.includes(e)?t.splice(a.indexOf(e),1):t.push(e),l(t)},D=async(e=1,a=20)=>{try{c(!0);let s=await E.Z.get(`https://api.bharatniveshyatra.com/api/bnyGeneral?page=${e}&limit=${a}`,{headers:{"x-auth-token":M.Z.get("authToken")}});200===s.status&&(c(!1),t(s.data.data),u(s.data.totalPages))}catch(e){c(!1),(0,F.Z)(e,C)}},q=async()=>{try{let e=await E.Z.delete(`https://api.bharatniveshyatra.com/api/bnyGeneral/${b}`,{headers:{"x-auth-token":M.Z.get("authToken")},data:{selectedRows:a}});200===e.status&&(D(b),$.ZP.success("User deleted successfully"))}catch(e){(0,F.Z)(e,C)}},_=e=>{N(e),w?Z(w,e):D(e)};(0,r.useEffect)(()=>{D()},[]);let S=e=>{let t=new Date(e),a=new Date,s=a.getFullYear()-t.getFullYear(),r=a.getMonth()-t.getMonth(),n=a.getDate()-t.getDate();return(r<0||0===r&&n<0)&&s--,s},T=async()=>{c(!0);try{let e=await E.Z.get("https://api.bharatniveshyatra.com/downloads/user-data",{headers:{"x-auth-token":M.Z.get("authToken")},responseType:"blob"});if(200===e.status){let t=new Blob([e.data],{type:e.headers["content-type"]}),a=window.URL.createObjectURL(t),s=document.createElement("a");s.href=a;let r=new Date,n=`User_Data_${r.getDate()}-${r.getMonth()+1}-${r.getFullYear()}.xlsx`;s.download=n,document.body.appendChild(s),s.click(),window.URL.revokeObjectURL(a),document.body.removeChild(s)}c(!1)}catch(e){c(!1),alert("Something went wrong, please try again later")}finally{c(!1)}},Z=async(e,a=1)=>{try{if(""===e){N(1),D();return}let s=await E.Z.post(`https://api.bharatniveshyatra.com/api/bnyGeneral/search?page=${a}&limit=20`,{searchText:e},{headers:{"x-auth-token":M.Z.get("authToken")}});200===s.status&&(c(!1),t(s.data.data),u(s.data.totalPages))}catch(e){(0,F.Z)(e,C)}};return s.jsx(s.Fragment,{children:o?s.jsx(I.Z,{}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"10px"},children:s.jsx(n.z,{className:"btn btn-primary",style:{backgroundColor:"#35C2DB"},onClick:T,children:"Export to Excel"})}),e&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(v.I,{type:"text",placeholder:"Search",onChange:e=>{k(e.target.value),Z(e.target.value)},value:w}),(0,s.jsxs)(i.iA,{children:[s.jsx(i.xD,{children:(0,s.jsxs)(i.SC,{children:[localStorage.getItem("userPermissions").includes("bnyGeneral:delete")&&s.jsx(i.ss,{children:s.jsx(y.X,{checked:a.length===e.length&&a.length>0||"indeterminate",onCheckedChange:()=>{a.length===e.length?l([]):l(e.map(e=>e._id))}})}),s.jsx(i.ss,{className:"font-semibold",children:a.length===e.length&&a.length>0?s.jsx("div",{className:"flex",children:s.jsx(n.z,{size:"xs",variant:"outline",className:"text-xs",color:"destructive",onClick:()=>q(),children:"Delete all"})}):a.length>0?s.jsx("div",{className:"flex",children:s.jsx(n.z,{size:"xs",variant:"outline",className:"text-xs",color:"destructive",onClick:()=>q(),children:"Delete"})}):null}),s.jsx(i.ss,{children:"Name"}),s.jsx(i.ss,{children:"Email"}),s.jsx(i.ss,{children:"Gender"}),s.jsx(i.ss,{children:"Age"}),s.jsx(i.ss,{children:"Address"}),s.jsx(i.ss,{children:"Phone Number"}),s.jsx(i.ss,{children:"Bus Name"}),s.jsx(i.ss,{children:"Date"})]})}),s.jsx(i.RM,{children:e?.map(e=>s.jsxs(i.SC,{className:"hover:bg-muted","data-state":a.includes(e._id)&&"selected",children:[s.jsxs(i.pj,{className:"p-2",children:[" ",s.jsx(y.X,{checked:a.includes(e._id),onCheckedChange:()=>P(e._id)})]}),s.jsxs(i.pj,{className:"font-medium text-card-foreground/80 p-2",children:[" ",s.jsx("div",{className:"flex",children:s.jsx(A,{className:"rounded-full",children:s.jsx("img",{src:`https://api.bharatniveshyatra.com${e.image}`})})})]})," ",s.jsx(i.pj,{children:e.fullName}),s.jsx(i.pj,{children:e.email}),s.jsx(i.pj,{children:e.gender}),s.jsx(i.pj,{children:S(e.dob)}),s.jsxs(i.pj,{children:[e.city,", ",e.state]}),s.jsx(i.pj,{children:e.contactNumber}),s.jsx(i.pj,{children:e.busName}),s.jsx(i.pj,{children:e.date})]},e._id))})]}),d>1&&s.jsx(x,{className:"pb-4",children:(0,s.jsxs)(h,{children:[s.jsx(p,{children:s.jsx(f,{onClick:()=>_(b-1),disabled:1===b})}),(()=>{let e=[],t=Math.max(1,b-Math.floor(2.5)),a=Math.min(d,t+5-1);t>1&&(e.push(s.jsx(p,{children:s.jsx(m,{onClick:()=>_(1),children:"1"})},"first")),t>2&&e.push(s.jsx(j,{},"startEllipsis")));for(let r=t;r<=a;r++)e.push(s.jsx(p,{children:s.jsx(m,{isActive:b===r,onClick:()=>_(r),children:r})},r));return a<d&&(a<d-1&&e.push(s.jsx(j,{},"endEllipsis")),e.push(s.jsx(p,{children:s.jsx(m,{onClick:()=>_(d),children:d})},"last"))),e})(),s.jsx(p,{children:s.jsx(g,{onClick:()=>_(b+1),disabled:b===d})})]})})]})]})})}},5717:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var s=a(5036),r=a(2213);let n=async({children:e})=>s.jsx(r.ZP,{children:e})},3574:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var s=a(5036);let r=(0,a(6843).createProxy)(String.raw`D:\Cactus-Creatives\amfi-bny\analytics-frontend\DashTail-starter-v1.3.0\dash-tail-starter-kit\app\user-details\components\FaceDetectionList.jsx`),{__esModule:n,$$typeof:i}=r,l=r.default,o=({trans:e})=>s.jsx("div",{className:"space-y-6",children:s.jsx(l,{})}),c=async({})=>s.jsx(o,{})}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[638,643,397,213,681,987,290,319,910],()=>a(8337));module.exports=s})();