(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3901],{8878:function(e,t,r){Promise.resolve().then(r.bind(r,7077))},7077:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return T}});var a=r(7437),s=r(2265),n=r(4590),l=r(2498),o=r(9108),c=r(7805),i=r(7373),d=r(4353);let u=(0,r(7742).j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-0   disabled:opacity-50  disabled:cursor-not-allowed ",{variants:{color:{primary:"bg-primary text-primary-foreground hover:bg-primary",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",success:"bg-success text-success-foreground hover:bg-success/90",info:"bg-info text-info-foreground hover:bg-info/90",warning:"bg-warning text-warning-foreground hover:bg-warning/90",secondary:"bg-secondary text-foreground-foreground hover:bg-secondary/90",dark:"bg-accent-foreground text-accent hover:bg-accent-foreground/90"},variant:{outline:"border border-current bg-background  hover:text-card",soft:"text-current bg-opacity-10  hover:text-primary-foreground",ghost:"bg-transparent text-current hover:text-primary-foreground"},size:{default:"h-10 px-4 py-[10px]",sm:"h-8 px-3",lg:"h-11 px-[18px] py-[10px] text-base",xl:"h-12 px-6 py-3 text-base",md:"h-9 px-4 py-2",xs:"h-7 px-[14px] py-[6px]",icon:"h-10 w-10"},radius:{default:"rounded-md",xs:"rounded-sm",sm:"rounded",lg:"rounded-lg",full:"rounded-full"}},compoundcolors:[{variant:"outline",color:"destructive",className:"text-destructive"},{variant:"outline",color:"success",className:"text-success"},{variant:"outline",color:"info",className:"text-info"},{variant:"outline",color:"warning",className:"text-warning"},{variant:"outline",color:"dark",className:"text-accent-foreground"},{variant:"outline",color:"secondary",className:"text-muted-foreground hover:bg-muted-foreground border-muted-foreground"},{variant:"outline",color:"default",className:"text-primary"},{variant:"soft",color:"info",className:"text-info"},{variant:"soft",color:"warning",className:"text-warning"},{variant:"soft",color:"destructive",className:"text-destructive"},{variant:"soft",color:"success",className:"text-success"},{variant:"soft",color:"secondary",className:"text-card-foreground bg-opacity-40"},{variant:"soft",color:"default",className:"text-primary"}],defaultVariants:{color:"primary",size:"default",radius:"default"}}),f=e=>{let{isDisabled:t,className:r,...s}=e;return(0,a.jsx)("nav",{role:"navigation","aria-label":"pagination",className:(0,d.cn)("mx-auto flex w-full justify-center",t,r),...s})},m=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("ul",{ref:t,className:(0,d.cn)("flex flex-row items-center gap-1",r),...s})});m.displayName="PaginationContent";let x=s.forwardRef((e,t)=>{let{className:r,radius:s,...n}=e;return(0,a.jsx)("li",{ref:t,className:(0,d.cn)("",r,s),...n})});x.displayName="PaginationItem";let h=e=>{let{className:t,isDisabled:r,isActive:s,color:n,variant:l,size:o="icon",...c}=e;return(0,a.jsx)("a",{"aria-current":s?"page":void 0,className:(0,d.cn)(u({color:s?n:"secondary",variant:s?l:"",size:o}),t),...c})};h.displayName="PaginationLink";let g=e=>{let{className:t,...r}=e;return(0,a.jsxs)(h,{"aria-label":"Go to previous page",size:"default",className:(0,d.cn)("gap-1 ltr:pl-2.5 rtl:pr-2.5",t),...r,children:[(0,a.jsx)(o.Z,{className:"h-4 w-4 rtl:rotate-180"}),(0,a.jsx)("span",{children:"Previous"})]})};g.displayName="PaginationPrevious";let p=e=>{let{className:t,...r}=e;return(0,a.jsxs)(h,{"aria-label":"Go to next page",size:"default",className:(0,d.cn)("gap-1 pr-2.5",t),...r,children:[(0,a.jsx)("span",{children:"Next"}),(0,a.jsx)(c.Z,{className:"h-4 w-4 rtl:rotate-180"})]})},b=e=>{let{className:t,...r}=e;return(0,a.jsxs)("span",{"aria-hidden":!0,className:(0,d.cn)("flex h-9 w-9 items-center justify-center",t),...r,children:[(0,a.jsx)(i.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"More pages"})]})};var v=r(8489),j=r(2178);let N=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(j.fC,{ref:t,className:(0,d.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...s})});N.displayName=j.fC.displayName,s.forwardRef((e,t)=>{let{className:r,children:n,max:l,total:o,custom:c,countClass:i,...u}=e,f=s.Children.toArray(n);return(0,a.jsxs)("div",{ref:t,className:(0,d.cn)(" relative w-max-content flex -space-x-3 avatarGroup items-center",r),...u,children:[f.slice(0,l).map((e,t)=>(0,a.jsx)(s.Fragment,{children:e},t)),f.length>l&&(0,a.jsx)(a.Fragment,{children:c?(0,a.jsx)("div",{className:" inline-block",children:(0,a.jsxs)("span",{className:"ltr:ml-5 rtl:mr-5 inline-block",children:[" +",f.length-l," more"]})}):(0,a.jsx)(N,{className:(0,d.cn)("ring-1 ring-background ring-offset-[2px]  ring-offset-background ",i),children:(0,a.jsxs)(y,{className:"font-normal",children:["+",o||f.length-l]})})})]})}).displayName="AvatarGroup",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(j.Ee,{ref:t,className:(0,d.cn)("aspect-square h-full w-full",r),...s})}).displayName=j.Ee.displayName;let y=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(j.NY,{ref:t,className:(0,d.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted font-semibold text-sm",r),...s})});y.displayName=j.NY.displayName;var w=r(3107),k=r(146),_=r(4273),C=r(7907),R=r(8009),Z=r(5958),T=()=>{let[e,t]=(0,s.useState)([]),[r,o]=(0,s.useState)([]),c=(0,C.useRouter)(),[i,d]=(0,s.useState)(!1),[u,j]=(0,s.useState)(0),y=e=>{let t=[...r];r.includes(e)?t.splice(r.indexOf(e),1):t.push(e),o(t)},T=async()=>{try{d(!0);let e=await w.Z.get("".concat("https://api.bharatniveshyatra.com","/api/bnyGeneral"),{headers:{"x-auth-token":k.Z.get("authToken")}});200===e.status&&(d(!1),t(e.data))}catch(e){d(!1),(0,_.Z)(e,c)}},z=async()=>{try{let e=await w.Z.delete("".concat("https://api.bharatniveshyatra.com","/api/bnyGeneral"),{headers:{"x-auth-token":k.Z.get("authToken")},data:{selectedRows:r}});200===e.status&&(T(),R.ZP.success("User deleted successfully"))}catch(e){(0,_.Z)(e,c)}};(0,s.useEffect)(()=>{T()},[]);let D=e=>{let t=new Date(e),r=new Date,a=r.getFullYear()-t.getFullYear(),s=r.getMonth()-t.getMonth(),n=r.getDate()-t.getDate();return(s<0||0===s&&n<0)&&a--,a},F=async()=>{d(!0);try{let e=await w.Z.get("".concat("https://api.bharatniveshyatra.com","/downloads/user-data"),{headers:{"x-auth-token":k.Z.get("authToken")},responseType:"blob"});if(200===e.status){let t=new Blob([e.data],{type:e.headers["content-type"]}),r=window.URL.createObjectURL(t),a=document.createElement("a");a.href=r;let s=e.headers["content-disposition"],n=new Date,l=s?s.split("filename=")[1].replace(/['"]/g,"").replace(".xlsx","_".concat(n.getDate(),"-").concat(n.getMonth()+1,"-").concat(n.getFullYear(),".xlsx")):"User_Data_".concat(n.getDate(),"-").concat(n.getMonth()+1,"-").concat(n.getFullYear(),".xlsx");a.download=l,document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(r),document.body.removeChild(a)}d(!1)}catch(e){d(!1),alert("Something went wrong, please try again later")}finally{d(!1)}};return(0,a.jsx)(a.Fragment,{children:i?(0,a.jsx)(Z.Z,{}):(0,a.jsxs)(a.Fragment,{children:[" ",(0,a.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"10px"},children:(0,a.jsx)(n.z,{className:"btn btn-primary",style:{backgroundColor:"#35C2DB"},onClick:F,children:"Export to Excel"})}),e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l.iA,{children:[(0,a.jsx)(l.xD,{children:(0,a.jsxs)(l.SC,{children:[localStorage.getItem("userPermissions").includes("bnyGeneral:delete")&&(0,a.jsx)(l.ss,{children:(0,a.jsx)(v.X,{checked:r.length===e.length&&r.length>0||"indeterminate",onCheckedChange:t=>{(null==r?void 0:r.length)===(null==e?void 0:e.length)?o([]):o(e.map(e=>e._id))}})}),(0,a.jsx)(l.ss,{className:"font-semibold",children:r.length===e.length&&r.length>0?(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)(n.z,{size:"xs",variant:"outline",className:"text-xs",color:"destructive",onClick:()=>z(),children:"Delete all"})}):r.length>0?(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)(n.z,{size:"xs",variant:"outline",className:"text-xs",color:"destructive",onClick:()=>z(),children:"Delete"})}):null}),(0,a.jsx)(l.ss,{children:"Name"}),(0,a.jsx)(l.ss,{children:"Email"}),(0,a.jsx)(l.ss,{children:"Gender"}),(0,a.jsx)(l.ss,{children:"Age"}),(0,a.jsx)(l.ss,{children:"Address"}),(0,a.jsx)(l.ss,{children:"Phone Number"}),(0,a.jsx)(l.ss,{children:"Bus Name"}),(0,a.jsx)(l.ss,{children:"Date"})]})}),(0,a.jsx)(l.RM,{children:null==e?void 0:e.map(e=>(0,a.jsxs)(l.SC,{className:"hover:bg-muted","data-state":r.includes(e._id)&&"selected",children:[(0,a.jsxs)(l.pj,{className:"p-2",children:[" ",(0,a.jsx)(v.X,{checked:r.includes(e._id),onCheckedChange:()=>y(e._id)})]}),(0,a.jsxs)(l.pj,{className:"font-medium text-card-foreground/80 p-2",children:[" ",(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(N,{className:"rounded-full",children:(0,a.jsx)("img",{src:"".concat("https://api.bharatniveshyatra.com").concat(e.image),alt:e.name})}),(0,a.jsx)("span",{className:"text-sm text-card-foreground",children:e.name})]})]}),(0,a.jsx)(l.pj,{className:"p-1",children:e.fullName}),(0,a.jsx)(l.pj,{className:"p-1 email-td text-sm",children:e.email}),(0,a.jsx)(l.pj,{className:"p-1 text-center",children:e.gender}),(0,a.jsx)(l.pj,{className:"p-2",children:D(e.dob)}),(0,a.jsxs)(l.pj,{className:"p-2",children:[e.city,", ",e.state]}),(0,a.jsx)(l.pj,{className:"p-2",children:e.contactNumber}),(0,a.jsx)(l.pj,{className:"p-2",children:e.busName}),(0,a.jsx)(l.pj,{className:"p-2",children:e.date})]},e._id))})]}),(0,a.jsx)(f,{children:(0,a.jsxs)(m,{children:[(0,a.jsx)(x,{children:(0,a.jsx)(g,{href:"#"})}),(0,a.jsx)(x,{children:(0,a.jsx)(h,{href:"#",children:"1"})}),(0,a.jsx)(x,{children:(0,a.jsx)(h,{href:"#",isActive:!0,children:"2"})}),(0,a.jsx)(x,{children:(0,a.jsx)(h,{href:"#",children:"3"})}),(0,a.jsx)(x,{children:(0,a.jsx)(b,{})}),(0,a.jsx)(x,{children:(0,a.jsx)(p,{href:"#"})})]})})]})]})})}},5958:function(e,t,r){"use strict";var a=r(7437);r(2265);var s=r(6295),n=r(8994);t.Z=()=>(0,a.jsxs)("div",{className:" h-screen flex items-center justify-center flex-col space-y-2",children:[(0,a.jsx)(s.SO,{className:"h-40 w-40 text-primary"}),(0,a.jsxs)("span",{className:" inline-flex gap-1",children:[(0,a.jsx)(n.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading..."]})]})},8489:function(e,t,r){"use strict";r.d(t,{X:function(){return u}});var a=r(7437),s=r(2265),n=r(6969),l=r(7742),o=r(4353),c=r(8033),i=r(9259);let d=(0,l.j)("peer group  shrink-0   ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&_svg]:stroke-primary-foreground ",{variants:{color:{default:"border border-default-400 data-[state=checked]:border-primary data-[state=checked]:bg-primary  ",secondary:"border border-default-300 data-[state=checked]:bg-default-300/90 ",destructive:"border  border-default-400 data-[state=checked]:border-destructive data-[state=checked]:bg-destructive ",warning:"border  border-default-400 data-[state=checked]:border-warning data-[state=checked]:bg-warning ",info:"border  border-default-400 data-[state=checked]:border-info data-[state=checked]:bg-info ",success:"border  border-default-400 data-[state=checked]:border-success data-[state=checked]:bg-success ",dark:"border  border-default-400 data-[state=checked]:bg-slate-900 data-[state=checked]:bg-slate-900 "},variant:{solid:"bg-default-600",plain:" bg-transparent border-none",faded:"bg-card",filled:"bg-default-200",outline:" border border-current data-[state=checked]:bg-card","filled-outline":"bg-default-200 border-current data-[state=checked]:bg-card"},radius:{none:"",sm:"rounded-sm",base:"rounded",md:"rounded-md",lg:"rounded-lg",xl:"rounded-xl"},size:{xs:"h-3 w-3 rounded-[2px] [&_svg]:h-2.5 [&_svg]:w-2.5",sm:"h-4 w-4 [&_svg]:h-3 [&_svg]:w-3",md:"h-5 w-5 [&_svg]:h-4 [&_svg]:w-4",lg:"h-6 w-6 [&_svg]:h-4 [&_svg]:w-4",xl:"h-7 w-7 [&_svg]:h-5 [&_svg]:w-5"}},compoundVariants:[{variant:"outline",color:"destructive",className:" [&_svg]:stroke-destructive border-destructive border-destructive"},{variant:"outline",color:"success",className:" [&_svg]:stroke-success border-success"},{variant:"outline",color:"info",className:" [&_svg]:stroke-info border-info"},{variant:"outline",color:"warning",className:" [&_svg]:stroke-warning border-warning"},{variant:"outline",color:"dark",className:" [&_svg]:stroke-foreground border-foreground"},{variant:"outline",color:"default",className:" [&_svg]:stroke-primary border-primary"},{variant:"filled-outline",color:"default",className:"[&_svg]:stroke-primary border-primary"}],defaultVariants:{color:"default",size:"md",radius:"base",variant:"faded"}}),u=s.forwardRef((e,t)=>{let{className:r,color:s,size:l,radius:u,variant:f,children:m,lineThrough:x,icon:h=(0,a.jsx)(i.Z,{}),...g}=e;return(0,a.jsx)(a.Fragment,{children:m?(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(n.fC,{ref:t,className:(0,o.cn)(d({color:s,size:l,radius:u,variant:f}),r),...g,children:(0,a.jsx)(n.z$,{className:(0,o.cn)("flex items-center justify-center text-current "),children:h})}),(0,a.jsx)(c._,{htmlFor:g.id,className:(0,o.cn)(" font-normal text-muted-foreground  flex-1 transition-colors-opacity before:transition-width motion-reduce:transition-none ltr:pl-2.5 rtl:pr-2.5 cursor-pointer",{"text-xs":"xs"===l,"text-sm":"sm"===l,"text-base":"md"===l,"text-lg":"lg"===l,"text-lg":"xl"===l,"relative  select-none text-medium inline-flex items-center justify-center before:content-[''] before:absolute before:bg-foreground before:w-0 before:h-0.5 peer-data-[state=checked]:opacity-60 peer-data-[state=checked]:before:w-full ":x}),children:m})]}):(0,a.jsx)(n.fC,{ref:t,className:(0,o.cn)(d({color:s,size:l,radius:u,variant:f}),r),...g,children:(0,a.jsx)(n.z$,{className:(0,o.cn)("flex items-center justify-center text-current "),children:h})})})});u.displayName=n.fC.displayName},8033:function(e,t,r){"use strict";r.d(t,{_:function(){return i}});var a=r(7437),s=r(2265),n=r(4602),l=r(7742),o=r(4353);let c=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-50   inline-block "),i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.f,{ref:t,className:(0,o.cn)(c(),r),...s})});i.displayName=n.f.displayName},2498:function(e,t,r){"use strict";r.d(t,{RM:function(){return c},SC:function(){return i},iA:function(){return l},pj:function(){return u},ss:function(){return d},xD:function(){return o}});var a=r(7437),s=r(2265),n=r(4353);let l=s.forwardRef((e,t)=>{let{className:r,wrapperClass:s,...l}=e;return(0,a.jsx)("div",{className:(0,n.cn)("overflow-x-auto",s),children:(0,a.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-top text-sm ",r),...l})})});l.displayName="Table";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",r),...s})});o.displayName="TableHeader";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",r),...s})});c.displayName="TableBody",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,n.cn)(" bg-muted font-medium",r),...s})}).displayName="TableFooter";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tr",{ref:t,className:(0,n.cn)("border-b border-default-300 transition-colors  data-[state=selected]:bg-muted",r),...s})});i.displayName="TableRow";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("th",{ref:t,className:(0,n.cn)("h-14 px-4  ltr:text-left rtl:text-right ltr:last:text-right rtl:last:text-left align-middle font-semibold  text-sm  text-default-800    capitalize  ltr:[&:has([role=checkbox])]:pr-0 rtl:[&:has([role=checkbox])]:pl-0",r),...s})});d.displayName="TableHead";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("td",{ref:t,className:(0,n.cn)("p-4 align-middle  text-xs text-default-600 last:text-right rtl:last:text-left font-normal  ltr:[&:has([role=checkbox])]:pr-0 rtl:[&:has([role=checkbox])]:pl-0",r),...s})});u.displayName="TableCell",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("caption",{ref:t,className:(0,n.cn)("mb-4 text-sm font-medium text-default-700 text-start",r),...s})}).displayName="TableCaption"},4273:function(e,t,r){"use strict";var a=r(146),s=r(8009);t.Z=(e,t)=>{var r,n,l;console.error(e),(null==e?void 0:null===(r=e.response)||void 0===r?void 0:r.status)===401?(a.Z.remove("authToken"),t.push("/error-page/401")):(null==e?void 0:null===(n=e.response)||void 0===n?void 0:n.status)===400?(a.Z.remove("authToken"),t.push("/auth/login")):(null==e?void 0:null===(l=e.response)||void 0===l?void 0:l.status)===500&&s.ZP.error("Something went wrong. Please try again later")}}},function(e){e.O(0,[6984,8009,8558,7627,7186,2971,8069,1744],function(){return e(e.s=8878)}),_N_E=e.O()}]);